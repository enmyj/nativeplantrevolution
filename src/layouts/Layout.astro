---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  description?: string;
}

const { 
  title, 
  description = "Showcasing native plant gardens across the Pacific Northwest" 
} = Astro.props;
---

<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&display=swap" rel="stylesheet">
    <title>{title} | Native Plant Revolution</title>
    <!-- Prevent flash of wrong theme -->
    <script is:inline>
      const stored = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      document.documentElement.setAttribute('data-theme', stored || (prefersDark ? 'dark' : 'light'));
    </script>
  </head>
  <body>
    <Header />
    <main>
      <slot />
    </main>
    <Footer />
  </body>
</html>

<style is:global>
  /* ===== CSS Custom Properties ===== */
  :root {
    --font-heading: 'Lora', Georgia, serif;
    --font-body: system-ui, -apple-system, sans-serif;
    
    /* Shared colors */
    --forest-900: #0d1f0d;
    --forest-800: #1a3a1a;
    --forest-700: #1e4620;
    --forest-600: #228B22;
    --forest-500: #2d9f2d;
    --cream-50: #fefdfb;
    --cream-100: #faf8f3;
    --cream-200: #f0ebe0;
    --cream-300: #e0d9c8;
    --cream-400: #c4b998;
  }

  /* Light theme (cream background) */
  [data-theme="light"] {
    --color-bg: var(--cream-100);
    --color-surface: var(--cream-50);
    --color-text: var(--forest-800);
    --color-text-muted: #5a6858;
    --color-heading: var(--forest-700);
    --color-accent: var(--forest-600);
    --color-accent-hover: var(--forest-700);
    --color-border: var(--cream-300);
    --color-card-bg: var(--cream-50);
    --color-card-shadow: rgba(0, 0, 0, 0.08);
  }

  /* Dark theme (forest green background) */
  [data-theme="dark"] {
    --color-bg: var(--forest-800);
    --color-surface: var(--forest-700);
    --color-text: var(--cream-100);
    --color-text-muted: var(--cream-300);
    --color-heading: var(--cream-50);
    --color-accent: var(--cream-200);
    --color-accent-hover: var(--cream-50);
    --color-border: var(--forest-600);
    --color-card-bg: var(--forest-700);
    --color-card-shadow: rgba(0, 0, 0, 0.3);
  }

  /* ===== Base Styles ===== */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    margin: 0;
    font-family: var(--font-body);
    font-size: 1rem;
    line-height: 1.6;
    color: var(--color-text);
    background-color: var(--color-bg);
    transition: background-color 0.3s, color 0.3s;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    color: var(--color-heading);
    line-height: 1.3;
    margin: 0 0 0.5em;
  }

  h1 { font-size: 2.5rem; }
  h2 { font-size: 1.75rem; }
  h3 { font-size: 1.25rem; }

  p {
    margin: 0 0 1em;
  }

  a {
    color: var(--color-accent);
    text-decoration: none;
    transition: color 0.2s;
  }

  a:hover {
    color: var(--color-accent-hover);
  }

  img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* ===== Layout ===== */
  main {
    max-width: 1100px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
    min-height: calc(100vh - 200px);
  }

  @media (max-width: 600px) {
    h1 { font-size: 2rem; }
    h2 { font-size: 1.5rem; }
    main { padding: 1.5rem 1rem; }
  }
</style>
